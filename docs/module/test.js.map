{"version":3,"file":"test.js","sources":["../../node_modules/svelte/store.mjs","../../node_modules/path-to-regexp/index.js","../../node_modules/page.js/index.js","../../src/Components/Router.html","../../src/Components/Route.html","../../src/App.html","../../src/test.js"],"sourcesContent":["import { run_all, noop } from './internal';\n\nexport function readable(start, value) {\n\tconst subscribers = [];\n\tlet stop;\n\n\tfunction set(newValue) {\n\t\tif (newValue === value) return;\n\t\tvalue = newValue;\n\t\tsubscribers.forEach(s => s[1]());\n\t\tsubscribers.forEach(s => s[0](value));\n\t}\n\n\treturn {\n\t\tsubscribe(run, invalidate = noop) {\n\t\t\tif (subscribers.length === 0) {\n\t\t\t\tstop = start(set);\n\t\t\t}\n\n\t\t\tconst subscriber = [run, invalidate];\n\t\t\tsubscribers.push(subscriber);\n\t\t\trun(value);\n\n\t\t\treturn function() {\n\t\t\t\tconst index = subscribers.indexOf(subscriber);\n\t\t\t\tif (index !== -1) subscribers.splice(index, 1);\n\n\t\t\t\tif (subscribers.length === 0) {\n\t\t\t\t\tstop && stop();\n\t\t\t\t\tstop = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n}\n\nexport function writable(value) {\n\tconst subscribers = [];\n\n\tfunction set(newValue) {\n\t\tif (newValue === value) return;\n\t\tvalue = newValue;\n\t\tsubscribers.forEach(s => s[1]());\n\t\tsubscribers.forEach(s => s[0](value));\n\t}\n\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\tfunction subscribe(run, invalidate = noop) {\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.push(subscriber);\n\t\trun(value);\n\n\t\treturn () => {\n\t\t\tconst index = subscribers.indexOf(subscriber);\n\t\t\tif (index !== -1) subscribers.splice(index, 1);\n\t\t};\n\t}\n\n\treturn { set, update, subscribe };\n}\n\nexport function derive(stores, fn) {\n\tconst single = !Array.isArray(stores);\n\tif (single) stores = [stores];\n\n\tconst auto = fn.length === 1;\n\tlet value = {};\n\n\treturn readable(set => {\n\t\tlet inited = false;\n\t\tconst values = [];\n\n\t\tlet pending = 0;\n\n\t\tconst sync = () => {\n\t\t\tif (pending) return;\n\t\t\tconst result = fn(single ? values[0] : values, set);\n\t\t\tif (auto && (value !== (value = result))) set(result);\n\t\t}\n\n\t\tconst unsubscribers = stores.map((store, i) => store.subscribe(\n\t\t\tvalue => {\n\t\t\t\tvalues[i] = value;\n\t\t\t\tpending &= ~(1 << i);\n\t\t\t\tif (inited) sync();\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tpending |= (1 << i);\n\t\t\t})\n\t\t);\n\n\t\tinited = true;\n\t\tsync();\n\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t};\n\t});\n}\n","/**\n * Expose `pathtoRegexp`.\n */\n\nmodule.exports = pathtoRegexp;\n\n/**\n * Match matching groups in a regular expression.\n */\nvar MATCHING_GROUP_REGEXP = /\\((?!\\?)/g;\n\n/**\n * Normalize the given path string,\n * returning a regular expression.\n *\n * An empty array should be passed,\n * which will contain the placeholder\n * key names. For example \"/user/:id\" will\n * then contain [\"id\"].\n *\n * @param  {String|RegExp|Array} path\n * @param  {Array} keys\n * @param  {Object} options\n * @return {RegExp}\n * @api private\n */\n\nfunction pathtoRegexp(path, keys, options) {\n  options = options || {};\n  keys = keys || [];\n  var strict = options.strict;\n  var end = options.end !== false;\n  var flags = options.sensitive ? '' : 'i';\n  var extraOffset = 0;\n  var keysOffset = keys.length;\n  var i = 0;\n  var name = 0;\n  var m;\n\n  if (path instanceof RegExp) {\n    while (m = MATCHING_GROUP_REGEXP.exec(path.source)) {\n      keys.push({\n        name: name++,\n        optional: false,\n        offset: m.index\n      });\n    }\n\n    return path;\n  }\n\n  if (Array.isArray(path)) {\n    // Map array parts into regexps and return their source. We also pass\n    // the same keys and options instance into every generation to get\n    // consistent matching groups before we join the sources together.\n    path = path.map(function (value) {\n      return pathtoRegexp(value, keys, options).source;\n    });\n\n    return new RegExp('(?:' + path.join('|') + ')', flags);\n  }\n\n  path = ('^' + path + (strict ? '' : path[path.length - 1] === '/' ? '?' : '/?'))\n    .replace(/\\/\\(/g, '/(?:')\n    .replace(/([\\/\\.])/g, '\\\\$1')\n    .replace(/(\\\\\\/)?(\\\\\\.)?:(\\w+)(\\(.*?\\))?(\\*)?(\\?)?/g, function (match, slash, format, key, capture, star, optional, offset) {\n      slash = slash || '';\n      format = format || '';\n      capture = capture || '([^\\\\/' + format + ']+?)';\n      optional = optional || '';\n\n      keys.push({\n        name: key,\n        optional: !!optional,\n        offset: offset + extraOffset\n      });\n\n      var result = ''\n        + (optional ? '' : slash)\n        + '(?:'\n        + format + (optional ? slash : '') + capture\n        + (star ? '((?:[\\\\/' + format + '].+?)?)' : '')\n        + ')'\n        + optional;\n\n      extraOffset += result.length - match.length;\n\n      return result;\n    })\n    .replace(/\\*/g, function (star, index) {\n      var len = keys.length\n\n      while (len-- > keysOffset && keys[len].offset > index) {\n        keys[len].offset += 3; // Replacement length minus asterisk length.\n      }\n\n      return '(.*)';\n    });\n\n  // This is a workaround for handling unnamed matching groups.\n  while (m = MATCHING_GROUP_REGEXP.exec(path)) {\n    var escapeCount = 0;\n    var index = m.index;\n\n    while (path.charAt(--index) === '\\\\') {\n      escapeCount++;\n    }\n\n    // It's possible to escape the bracket.\n    if (escapeCount % 2 === 1) {\n      continue;\n    }\n\n    if (keysOffset + i === keys.length || keys[keysOffset + i].offset > m.index) {\n      keys.splice(keysOffset + i, 0, {\n        name: name++, // Unnamed matching groups must be consistently linear.\n        optional: false,\n        offset: m.index\n      });\n    }\n\n    i++;\n  }\n\n  // If the path is non-ending, match until the end or a slash.\n  path += (end ? '$' : (path[path.length - 1] === '/' ? '' : '(?=\\\\/|$)'));\n\n  return new RegExp(path, flags);\n};\n","  /* globals require, module */\n\n  'use strict';\n\n  /**\n   * Module dependencies.\n   */\n\n  var pathtoRegexp = require('path-to-regexp');\n\n  /**\n   * Module exports.\n   */\n\n  module.exports = page;\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = ('undefined' !== typeof document) && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var location = ('undefined' !== typeof window) && (window.history.location || window.location);\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n\n  /**\n   * Decode URL components (query string, pathname, hash).\n   * Accommodates both regular percent encoding and x-www-form-urlencoded format.\n   */\n  var decodeURLComponents = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * HashBang option\n   */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {String|Function} path\n   * @param {Function} fn...\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(path);\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      page['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Current path being processed\n   * @type {String}\n   */\n  page.current = '';\n\n  /**\n   * Number of pages navigated to.\n   * @type {number}\n   *\n   *     page.len == 0;\n   *     page('/login');\n   *     page.len == 1;\n   */\n\n  page.len = 0;\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {String} path\n   * @api public\n   */\n\n  page.base = function(path) {\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options) {\n    options = options || {};\n    if (running) return;\n    running = true;\n    if (false === options.dispatch) dispatch = false;\n    if (false === options.decodeURLComponents) decodeURLComponents = false;\n    if (false !== options.popstate) window.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click) {\n      document.addEventListener(clickEvent, onclick, false);\n    }\n    if (true === options.hashbang) hashbang = true;\n    if (!dispatch) return;\n    var url = (hashbang && ~location.hash.indexOf('#!')) ? location.hash.substr(2) + location.search : location.pathname + location.search + location.hash;\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function() {\n    if (!running) return;\n    page.current = '';\n    page.len = 0;\n    running = false;\n    document.removeEventListener(clickEvent, onclick, false);\n    window.removeEventListener('popstate', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @param {Boolean} dispatch\n   * @return {Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    if (false !== dispatch) page.dispatch(ctx);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {String} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object} [state]\n   * @api public\n   */\n\n  page.back = function(path, state) {\n    if (page.len > 0) {\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      history.back();\n      page.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    }else{\n      setTimeout(function() {\n        page.show(base, state);\n      });\n    }\n  };\n\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {String} from - if param 'to' is undefined redirects to 'from'\n   * @param {String} [to]\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function(e) {\n        setTimeout(function() {\n          page.replace(to);\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        page.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @return {Context}\n   * @api public\n   */\n\n\n  page.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state);\n    page.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Object} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx) {\n    var prev = prevContext,\n      i = 0,\n      j = 0;\n\n    prevContext = ctx;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = base + location.hash.replace('#!', '');\n    } else {\n      current = location.pathname + location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    location.href = ctx.canonicalPath;\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return page.exit('*', path);\n    }\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {str} URL component to decode\n   */\n  function decodeURLEncodedURIComponent(val) {\n    if (typeof val !== 'string') { return val; }\n    return decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    if ('/' === path[0] && 0 !== path.indexOf(base)) path = base + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(base, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = document.title;\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = parts[0];\n      this.hash = decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    page.len++;\n    history.pushState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    history.replaceState(this.state, this.title, hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @param {String} path\n   * @param {Object} options.\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    this.path = path;\n    this.method = 'GET';\n    this.regexp = pathtoRegexp(this.path,\n      this.keys = [],\n      options.sensitive,\n      options.strict);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {String} path\n   * @param {Object} params\n   * @return {Boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      if (key) {\n        var val = decodeURLEncodedURIComponent(m[i]);\n        if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n          params[key.name] = val;\n        }        \n      }\n\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  var onpopstate = (function () {\n    var loaded = false;\n    if ('undefined' === typeof window) {\n      return;\n    }\n    if (document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else {\n        page.show(location.pathname + location.hash, undefined, undefined, false);\n      }\n    };\n  })();\n  /**\n   * Handle \"click\" events.\n   */\n\n  function onclick(e) {\n\n    if (1 !== which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n\n\n    // ensure link\n    var el = e.target;\n    while (el && 'A' !== el.nodeName) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName) return;\n\n\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if (!hashbang && el.pathname === location.pathname && (el.hash || '#' === link)) return;\n\n\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    if (el.target) return;\n\n    // x-origin\n    if (!sameOrigin(el.href)) return;\n\n\n\n    // rebuild path\n    var path = el.pathname + el.search + (el.hash || '');\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (typeof process !== 'undefined' && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n\n    if (path.indexOf(base) === 0) {\n      path = path.substr(base.length);\n    }\n\n    if (hashbang) path = path.replace('#!', '');\n\n    if (base && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || window.event;\n    return null === e.which ? e.button : e.which;\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    var origin = location.protocol + '//' + location.hostname;\n    if (location.port) origin += ':' + location.port;\n    return (href && (0 === href.indexOf(origin)));\n  }\n\n  page.sameOrigin = sameOrigin;\n","<script context=\"module\">\n\texport const ROUTER = { }; \n</script>\n\n<script>\n\timport { setContext, onMount } from 'svelte';\n\timport { writable, derive } from 'svelte/store';\n\timport page from 'page.js';\n\t\n\tlet selectedRoute = writable(null);\n\n\tconst routeMiddleware = route => (ctx,next) => { \n\t\tselectedRoute.set({ctx, route});\n\t};\n\t\n\tsetContext(ROUTER, { \n\t\tregisterRoute(route) { \n\t\t\tpage(route.path, routeMiddleware(route)); \n\t\t}, \n\t\tselectedRoute\n\t});\n\n\tonMount(() => {\n\t\tpage(); \n\t});\n\t\n</script>\n\n<!-- todo.. figure this bit out -->\n<slot></slot>","<script>\n\timport { getContext, onDestroy } from 'svelte';\n\timport { writable } from 'svelte/store';\n\timport { ROUTER } from './Router.html';\n\n\texport let path; \n\texport let componentImport;\n\n\tlet componentPromise; \n\tlet target;\n\n\tconst route = { path, componentImport };\n\n\tconst { registerRoute, selectedRoute } = getContext(ROUTER);\n\t\n\tregisterRoute(route);\n\tlet activeRoute = null;\n\n\tselectedRoute.subscribe(selected => {\n\t\tif(selected && selected.route == route) {\n\t\t\tcomponentPromise = Promise.all([\n\t\t\t\tcomponentImport(), \n\t\t\t\t// todo: optionally fetch data/props concurrently with component import?\n\t\t\t])\n\t\t\t.then(([{default: Component}, data]) => {\n\t\t\t\treturn new Component({\n\t\t\t\t\ttarget, \n\t\t\t\t\tprops: { \n\t\t\t\t\t\troute: selected.ctx\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}); \n\t\t}\n\t});\n\n</script>\n\n{#if $selectedRoute && $selectedRoute.route == route}\n\t{#await componentPromise}\n\t\t<slot name=\"loading\">\n\t\t\t<p>Loading... </p>\n\t\t</slot>\n\t{:then}\n\t{:catch}\n\t\t<slot name=\"error\">\n\t\t\tError!\n\t\t</slot>\n\t{/await}\n\t<div bind:this={target}></div>\n{/if}","<script>\n\timport Router from './Components/Router.html';\n\timport Route from './Components/Route.html';\n</script>\n\n<Router>\n\t<!-- Route paths can be strings (exact matches or express-style named-params) or regex -->\n\t<!-- componentImport is a function which dynamically imports the necessary component -->\n\t<Route path='/' componentImport={() => import('./Components/test/HomeRoute.html')} />\n\t<Route path={/\\/regex-route\\.(\\d+)/} componentImport={() => import('./Components/test/RegexRoute.html')} />\n\t<Route path='/named/:id' componentImport={() => import('./Components/test/NamedParamsRoute.html')} />\n</Router>","import App from \"./App.html\";\n\nconst app = new App({\n  target: document.body,\n  data: {}\n});\n\nexport default app;"],"names":["writable","value","subscribers","set","newValue","forEach","s","update","fn","subscribe","run","invalidate","noop","subscriber","push","index","indexOf","splice","pathtoRegexp","MATCHING_GROUP_REGEXP","path","keys","options","m","strict","end","flags","sensitive","extraOffset","keysOffset","length","i","name","RegExp","exec","source","optional","offset","Array","isArray","map","join","replace","match","slash","format","key","capture","star","result","len","escapeCount","charAt","running","prevContext","page","clickEvent","document","ontouchstart","location","window","history","dispatch","decodeURLComponents","base","hashbang","route","Route","arguments","callbacks","middleware","start","unhandled","ctx","handled","hash","pathname","search","canonicalPath","stop","href","decodeURLEncodedURIComponent","val","decodeURIComponent","Context","state","this","title","querystring","slice","params","parts","split","method","regexp","exits","current","popstate","addEventListener","onpopstate","click","onclick","url","substr","removeEventListener","show","pushState","back","setTimeout","redirect","from","to","e","init","save","prev","j","nextEnter","nextExit","exit","prototype","replaceState","self","next","qsIndex","undefined","hasOwnProperty","call","loaded","readyState","which","metaKey","ctrlKey","shiftKey","defaultPrevented","el","target","nodeName","parentNode","hasAttribute","getAttribute","link","sameOrigin","process","orig","preventDefault","event","button","origin","protocol","hostname","port","ROUTER","selectedRoute","setContext","[object Object]","routeMiddleware","onMount","componentPromise","$selectedRoute","componentImport","registerRoute","getContext","selected","Promise","all","then","default","Component","data","props","func","func_1","func_2","app","App","body"],"mappings":"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"}