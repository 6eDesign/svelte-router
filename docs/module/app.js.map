{"version":3,"file":"app.js","sources":["../../src/Components/Error.html","../../src/Components/Route.html","../../src/Components/test/HomeRoute.html","../../src/Components/test/Error.html","../../src/App.html","../../src/app.js"],"sourcesContent":["<script>\r\n  export let error = null;\r\n</script>\r\n\r\n<h1>ERROR!</h1>\r\n\r\n<p>Error: </p>\r\n{error}","<script>\r\n\timport { getContext, onDestroy } from 'svelte';\r\n\timport { writable } from 'svelte/store';\r\n\timport { ROUTER } from './Router.html';\r\n\timport DefaultLoadingComponent from './Loading.html';\r\n\timport DefaultErrorComponent from './Error.html';\r\n\r\n\tconst {\r\n\t\tregisterRoute, \r\n\t\tselectedRoute, \r\n\t\terror: routerErrorComponent=null, \r\n\t\tloading: routerLoadingComponent=null\r\n\t} = getContext(ROUTER);\r\n\r\n\t// props\r\n\texport let path; \r\n\texport let asyncComponent = null;\r\n\texport let component = null;\r\n\texport let middleware = [];\r\n\texport let metadata = { }\r\n\texport let error = null;\r\n\texport let loading = null;\r\n\r\n\t// template variables\r\n\tlet componentPromise; \r\n\tlet target;\r\n\tlet routeError = null;\r\n\r\n\t// reactive variables: \r\n\tlet loadingComponent, errorComponent; \r\n\t$: loadingComponent = loading || routerLoadingComponent || DefaultLoadingComponent;\r\n\t$: errorComponent = error || routerErrorComponent || DefaultErrorComponent;\r\n\r\n\tconst route = { \r\n\t\tpath, \r\n\t\tasyncComponent, \r\n\t\tmiddleware, \r\n\t\tmetadata \r\n\t};\r\n\r\n\tregisterRoute(route);\r\n\r\n\tselectedRoute.subscribe(selected => {\r\n\t\tif(!selected) return;\r\n\t\tif(asyncComponent && selected && selected.route == route) {\r\n\t\t\tcomponentPromise = asyncComponent();\r\n\t\t\tcomponentPromise.then(\r\n\t\t\t\t({default: Component}) => {\r\n\t\t\t\t\treturn new Component({\r\n\t\t\t\t\t\ttarget\r\n\t\t\t\t\t});\r\n\t\t\t}); \r\n\t\t}\r\n\t});\r\n\r\n</script>\r\n\r\n{#if $selectedRoute && $selectedRoute.route == route}\r\n\t{#if asyncComponent}\r\n\t\t{#await componentPromise}\r\n\t\t\t<svelte:component this={loadingComponent} />\r\n\t\t{:then}\r\n\t\t{:catch error}\r\n\t\t\t<svelte:component this={errorComponent} error={error} />\r\n\t\t{/await}\r\n\t\t<div bind:this={target}></div>\r\n\t{:else if component}\r\n\t\t<svelte:component this={component} />\r\n\t{:else}\r\n\t\t<slot></slot>\r\n\t{/if}\r\n{/if}","<script>\r\n  import { getContext } from 'svelte'; \r\n  import Page from './Page.html';\r\n  import { ROUTER } from '../Router.html';\r\n  let { selectedRoute } = getContext(ROUTER); \r\n</script>\r\n\r\n<Page>\r\n  <h1>Homepage</h1>\r\n  <p>\r\n    <strong>route:</strong>\r\n  </p>\r\n  <pre>{JSON.stringify($selectedRoute.ctx,null,2)}</pre>\r\n  <p>\r\n    Go to <a href=\"/svelte-router/home-alt\">home-alternate</a>\r\n  </p>\r\n  <p>\r\n    Go to <a href=\"/svelte-router/regex-route.123\">regex route</a>\r\n  </p>\r\n  <p>\r\n    Go to <a href=\"/svelte-router/named/123\">named-params route</a>\r\n  </p>\r\n</Page>","<script>\r\n  export let error = null;\r\n</script>\r\n\r\n<h1>Custom Error Page</h1>\r\n\r\n<pre>\r\n  {error}\r\n</pre>\r\n\r\n<style>\r\n  pre { \r\n    padding: 40px;\r\n    font-size: 14px;\r\n    background-color: rgba(255,0,0,0.2); \r\n  }\r\n</style>","<script>\r\n\timport Router from './Components/Router.html';\r\n\timport Route from './Components/Route.html';\r\n\timport HomeRoute from './Components/test/HomeRoute.html';\r\n\timport Error from './Components/test/Error.html';\r\n\timport Loading from './Components/test/Loading.html';\r\n\r\n\tconst exampleRouterMiddleware = (ctx,next) => {\r\n\t\tconsole.log(`This runs for every route in instance of Router\\n${JSON.stringify(ctx,null,2)}`); \r\n\t\tnext(); \r\n\t};\r\n\r\n\tconst exampleRouteMiddleware = (ctx,next) => {\r\n\t\tconsole.log(`This runs only for specific routes where it is applied\\n${JSON.stringify(ctx,null,2)}`); \r\n\t\tnext(); \r\n\t};\r\n\r\n\tconst exampleRouterMetadata = { routerId: 123 };\r\n\tconst exampleRouteMetadata = { pageName: 'Home (Alt)' }; \r\n\r\n\tlet base = '/svelte-router';\r\n</script>\r\n\r\n<div>\r\n\t<Router \r\n\t\thashbang={true}\r\n\t\terror={Error}\r\n\t\tloading={Loading}\r\n\t\tmiddleware={[exampleRouterMiddleware]}\r\n\t\tmetadata={exampleRouterMetadata}\r\n\t>\r\n\t\t<!-- \r\n\t\t\tRoute paths can be strings (exact matches or express-style \r\n\t\t\tnamed-params) or regex \r\n\t\t\r\n\t\t\tComponents can  be embedded via the {component} prop \r\n\t\t-->\r\n\t\t<Route \r\n\t\t\tpath='/svelte-router' \r\n\t\t\tcomponent={HomeRoute}\r\n\t\t/>\r\n\t\t<!-- \r\n\t\t\tComponents/DOM can also be embedded via the default route slot\r\n\t\t-->\r\n\t\t<Route\r\n\t\t\tpath='/svelte-router/home-alt'\r\n\t\t\tmiddleware={[exampleRouteMiddleware]}\r\n\t\t\tmetadata={exampleRouteMetadata}\r\n\t\t>\r\n\t\t\t<HomeRoute />\r\n\t\t</Route>\r\n\t\t<!-- \r\n\t\t\tasyncComponent is an optional prop which provides a function which \r\n\t\t\tdynamically imports the necessary component for a route - for use \r\n\t\t\twith codesplitting.  \r\n\t\t-->\r\n\t\t<Route \r\n\t\t\tpath={/\\/svelte-router\\/regex-route\\.(\\d+)/} \r\n\t\t\tasyncComponent={() => import('./Components/test/RegexRoute.html')} \r\n\t\t/>\r\n\t\t<!-- \r\n\t\t\tyou can override router-wide error and loading \r\n\t\t\tcomponents by specifying 'loading' and 'error' props\r\n\t\t-->\r\n\t\t<Route \r\n\t\t\tpath='/svelte-router/named/:id' \r\n\t\t\tasyncComponent={() => import('./Components/test/NamedParamsRoute.html')} \r\n\t\t>\r\n\t\t</Route>\r\n\t</Router>\r\n</div>","import App from \"./App.html\";\n\nconst app = new App({\n  target: document.body,\n  data: {}\n});\n\nexport default app;"],"names":["let","const","DefaultLoadingComponent","DefaultErrorComponent","Error","Loading"],"mappings":"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"}