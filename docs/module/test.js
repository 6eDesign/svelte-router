import{a as run_all,b as noop,c as SvelteComponent,d as assign,e as create_slot,f as get_slot_context,g as init,h as safe_not_equal,i as setContext,j as onMount,k as add_binding_callback,l as createComment,m as createElement,n as createText,o as detachNode,p as flush,q as handlePromise,r as insert,s as getContext,t as mount_component}from"./chunk-b7c201f9.js";function writable(e){const t=[];function n(n){n!==e&&(e=n,t.forEach(e=>e[1]()),t.forEach(t=>t[0](e)))}return{set:n,update:function(t){n(t(e))},subscribe:function(n,o=noop){const a=[n,o];return t.push(a),n(e),()=>{const e=t.indexOf(a);-1!==e&&t.splice(e,1)}}}}var pathToRegexp=pathtoRegexp,MATCHING_GROUP_REGEXP=/\((?!\?)/g;function pathtoRegexp(e,t,n){t=t||[];var o,a=(n=n||{}).strict,r=!1!==n.end,c=n.sensitive?"":"i",s=0,i=t.length,p=0,u=0;if(e instanceof RegExp){for(;o=MATCHING_GROUP_REGEXP.exec(e.source);)t.push({name:u++,optional:!1,offset:o.index});return e}if(Array.isArray(e))return e=e.map(function(e){return pathtoRegexp(e,t,n).source}),new RegExp("(?:"+e.join("|")+")",c);for(e=("^"+e+(a?"":"/"===e[e.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,function(e,n,o,a,r,c,i,p){n=n||"",o=o||"",r=r||"([^\\/"+o+"]+?)",i=i||"",t.push({name:a,optional:!!i,offset:p+s});var u=(i?"":n)+"(?:"+o+(i?n:"")+r+(c?"((?:[\\/"+o+"].+?)?)":"")+")"+i;return s+=u.length-e.length,u}).replace(/\*/g,function(e,n){for(var o=t.length;o-- >i&&t[o].offset>n;)t[o].offset+=3;return"(.*)"});o=MATCHING_GROUP_REGEXP.exec(e);){for(var l=0,h=o.index;"\\"===e.charAt(--h);)l++;l%2!=1&&((i+p===t.length||t[i+p].offset>o.index)&&t.splice(i+p,0,{name:u++,optional:!1,offset:o.index}),p++)}return e+=r?"$":"/"===e[e.length-1]?"":"(?=\\/|$)",new RegExp(e,c)}var running,prevContext,page_js=page,clickEvent="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",location="undefined"!=typeof window&&(window.history.location||window.location),dispatch=!0,decodeURLComponents=!0,base="",hashbang=!1;function page(e,t){if("function"==typeof e)return page("*",e);if("function"==typeof t)for(var n=new Route(e),o=1;o<arguments.length;++o)page.callbacks.push(n.middleware(arguments[o]));else"string"==typeof e?page["string"==typeof t?"redirect":"show"](e,t):page.start(e)}function unhandled(e){e.handled||(hashbang?base+location.hash.replace("#!",""):location.pathname+location.search)!==e.canonicalPath&&(page.stop(),e.handled=!1,location.href=e.canonicalPath)}function decodeURLEncodedURIComponent(e){return"string"!=typeof e?e:decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e}function Context(e,t){"/"===e[0]&&0!==e.indexOf(base)&&(e=base+(hashbang?"#!":"")+e);var n=e.indexOf("?");if(this.canonicalPath=e,this.path=e.replace(base,"")||"/",hashbang&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=t||{},this.state.path=e,this.querystring=~n?decodeURLEncodedURIComponent(e.slice(n+1)):"",this.pathname=decodeURLEncodedURIComponent(~n?e.slice(0,n):e),this.params={},this.hash="",!hashbang){if(!~this.path.indexOf("#"))return;var o=this.path.split("#");this.path=o[0],this.hash=decodeURLEncodedURIComponent(o[1])||"",this.querystring=this.querystring.split("#")[0]}}function Route(e,t){t=t||{},this.path=e,this.method="GET",this.regexp=pathToRegexp(this.path,this.keys=[],t.sensitive,t.strict)}page.callbacks=[],page.exits=[],page.current="",page.len=0,page.base=function(e){if(0===arguments.length)return base;base=e},page.start=function(e){if(e=e||{},!running&&(running=!0,!1===e.dispatch&&(dispatch=!1),!1===e.decodeURLComponents&&(decodeURLComponents=!1),!1!==e.popstate&&window.addEventListener("popstate",onpopstate,!1),!1!==e.click&&document.addEventListener(clickEvent,onclick,!1),!0===e.hashbang&&(hashbang=!0),dispatch)){var t=hashbang&&~location.hash.indexOf("#!")?location.hash.substr(2)+location.search:location.pathname+location.search+location.hash;page.replace(t,null,!0,dispatch)}},page.stop=function(){running&&(page.current="",page.len=0,running=!1,document.removeEventListener(clickEvent,onclick,!1),window.removeEventListener("popstate",onpopstate,!1))},page.show=function(e,t,n,o){var a=new Context(e,t);return page.current=a.path,!1!==n&&page.dispatch(a),!1!==a.handled&&!1!==o&&a.pushState(),a},page.back=function(e,t){page.len>0?(history.back(),page.len--):e?setTimeout(function(){page.show(e,t)}):setTimeout(function(){page.show(base,t)})},page.redirect=function(e,t){"string"==typeof e&&"string"==typeof t&&page(e,function(e){setTimeout(function(){page.replace(t)},0)}),"string"==typeof e&&void 0===t&&setTimeout(function(){page.replace(e)},0)},page.replace=function(e,t,n,o){var a=new Context(e,t);return page.current=a.path,a.init=n,a.save(),!1!==o&&page.dispatch(a),a},page.dispatch=function(e){var t=prevContext,n=0,o=0;function a(){var t=page.callbacks[n++];if(e.path===page.current)return t?void t(e,a):unhandled(e);e.handled=!1}prevContext=e,t?function e(){var n=page.exits[o++];if(!n)return a();n(t,e)}():a()},page.exit=function(e,t){if("function"==typeof e)return page.exit("*",e);for(var n=new Route(e),o=1;o<arguments.length;++o)page.exits.push(n.middleware(arguments[o]))},page.Context=Context,Context.prototype.pushState=function(){page.len++,history.pushState(this.state,this.title,hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},Context.prototype.save=function(){history.replaceState(this.state,this.title,hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},page.Route=Route,Route.prototype.middleware=function(e){var t=this;return function(n,o){if(t.match(n.path,n.params))return e(n,o);o()}},Route.prototype.match=function(e,t){var n=this.keys,o=e.indexOf("?"),a=~o?e.slice(0,o):e,r=this.regexp.exec(decodeURIComponent(a));if(!r)return!1;for(var c=1,s=r.length;c<s;++c){var i=n[c-1];if(i){var p=decodeURLEncodedURIComponent(r[c]);void 0===p&&hasOwnProperty.call(t,i.name)||(t[i.name]=p)}}return!0};var onpopstate=function(){var e=!1;if("undefined"!=typeof window)return"complete"===document.readyState?e=!0:window.addEventListener("load",function(){setTimeout(function(){e=!0},0)}),function(t){if(e)if(t.state){var n=t.state.path;page.replace(n,t.state)}else page.show(location.pathname+location.hash,void 0,void 0,!1)}}();function onclick(e){if(1===which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!==t.nodeName;)t=t.parentNode;if(t&&"A"===t.nodeName&&!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var n=t.getAttribute("href");if((hashbang||t.pathname!==location.pathname||!t.hash&&"#"!==n)&&!(n&&n.indexOf("mailto:")>-1)&&!t.target&&sameOrigin(t.href)){var o=t.pathname+t.search+(t.hash||"");"undefined"!=typeof process&&o.match(/^\/[a-zA-Z]:\//)&&(o=o.replace(/^\/[a-zA-Z]:\//,"/"));var a=o;0===o.indexOf(base)&&(o=o.substr(base.length)),hashbang&&(o=o.replace("#!","")),base&&a===o||(e.preventDefault(),page.show(a))}}}}function which(e){return null===(e=e||window.event).which?e.button:e.which}function sameOrigin(e){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),e&&0===e.indexOf(t)}function create_fragment(e){const t=e.$$slot_default,n=create_slot(t,e,null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,t){n&&n.m(e,t)},p(e,o){n&&e.$$scope&&n.p(assign(assign({},e),o.$$scope.changed),get_slot_context(t,o,null))},i:noop,o:noop,d(e){n&&n.d(e)}}}page.sameOrigin=sameOrigin;const ROUTER={};function instance(e,t,n){let o=writable(null);setContext(ROUTER,{registerRoute(e){page_js(e.path,(e=>(t,n)=>{o.set({ctx:t,route:e})})(e))},selectedRoute:o}),onMount(()=>{page_js()});let{$$slot_default:a,$$scope:r}=t;return e.$set=(e=>{"$$scope"in e&&n("$$scope",r=e.$$scope)}),{$$slot_default:a,$$scope:r}}class Router extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal)}}function create_if_block(e){var t,n,o;let a={ctx:e,current:null,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:"null",error:"null"};return handlePromise(t=e.componentPromise,a),{c(){a.block.c(),n=createText("\n\t"),o=createElement("div")},m(t,r){a.block.m(t,a.anchor=r),a.mount=(()=>n.parentNode),a.anchor=n,insert(t,n,r),insert(t,o,r),add_binding_callback(()=>e.div_binding(o,null))},p(n,r){e=r,a.ctx=e,"componentPromise"in n&&t!==(t=e.componentPromise)&&handlePromise(t,a)||a.block.p(n,assign(assign({},e),a.resolved)),n.items&&(e.div_binding(null,o),e.div_binding(o,null))},d(t){a.block.d(t),a=null,t&&(detachNode(n),detachNode(o)),e.div_binding(null,o)}}}function create_catch_block(e){var t;const n=e.$$slot_error,o=create_slot(n,e,null);return{c(){o||(t=createText("Error!")),o&&o.c()},l(e){o&&o.l(e)},m(e,n){o?o.m(e,n):insert(e,t,n)},p(e,t){o&&e.$$scope&&o.p(assign(assign({},e),t.$$scope.changed),get_slot_context(n,t,null))},d(e){o||e&&detachNode(t),o&&o.d(e)}}}function create_then_block(e){return{c:noop,m:noop,p:noop,d:noop}}function create_pending_block(e){var t;const n=e.$$slot_loading,o=create_slot(n,e,null);return{c(){o||((t=createElement("p")).textContent="Loading..."),o&&o.c()},l(e){o&&o.l(e)},m(e,n){o?o.m(e,n):insert(e,t,n)},p(e,t){o&&e.$$scope&&o.p(assign(assign({},e),t.$$scope.changed),get_slot_context(n,t,null))},d(e){o||e&&detachNode(t),o&&o.d(e)}}}function create_fragment$1(e){var t,n=e.$selectedRoute&&e.$selectedRoute.route==e.route&&create_if_block(e);return{c(){n&&n.c(),t=createComment()},m(e,o){n&&n.m(e,o),insert(e,t,o)},p(e,o){o.$selectedRoute&&o.$selectedRoute.route==o.route?n?n.p(e,o):((n=create_if_block(o)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:noop,o:noop,d(e){n&&n.d(e),e&&detachNode(t)}}}function instance$1(e,t,n){let o,a,{path:r,componentImport:c}=t;const s={path:r,componentImport:c},{registerRoute:i,selectedRoute:p}=getContext(ROUTER);i(s),p.subscribe(e=>{e&&e.route==s&&(o=Promise.all([c()]).then(([{default:t},n])=>new t({target:a,props:{route:e.ctx}})),n("componentPromise",o))});let u,{$$slot_loading:l,$$slot_error:h,$$scope:d}=t;return e.$$.on_destroy.push(p.subscribe(e=>{n("$selectedRoute",u=e)})),e.$set=(e=>{"path"in e&&n("path",r=e.path),"componentImport"in e&&n("componentImport",c=e.componentImport),"$$scope"in e&&n("$$scope",d=e.$$scope)}),{path:r,componentImport:c,componentPromise:o,target:a,route:s,div_binding:function(e,t){n("target",a=e)},$selectedRoute:u,$$slot_loading:l,$$slot_error:h,$$scope:d}}class Route$1 extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal)}get path(){return this.$$.ctx.path}set path(e){this.$set({path:e}),flush()}get componentImport(){return this.$$.ctx.componentImport}set componentImport(e){this.$set({componentImport:e}),flush()}}function create_default_slot(e){var t,n,o,a=new Route$1({props:{path:"/",componentImport:func}}),r=new Route$1({props:{path:/\/regex-route\.(\d+)/,componentImport:func_1}}),c=new Route$1({props:{path:"/named/:id",componentImport:func_2}});return{c(){a.$$.fragment.c(),t=createText("\n\t"),r.$$.fragment.c(),n=createText("\n\t"),c.$$.fragment.c()},m(e,o){mount_component(a,e,o),insert(e,t,o),mount_component(r,e,o),insert(e,n,o),mount_component(c,e,o)},p:noop,i(){o||(a.$$.fragment.i(),r.$$.fragment.i(),c.$$.fragment.i(),o=!0)},o(){a&&a.$$.fragment.o(),r&&r.$$.fragment.o(),c&&c.$$.fragment.o(),o=!1},d(e){a.$destroy(e),e&&detachNode(t),r.$destroy(e),e&&detachNode(n),c.$destroy(e)}}}function create_fragment$2(e){var t,n=new Router({props:{$$slot_default:[create_default_slot],$$scope:{ctx:e}}});return{c(){n.$$.fragment.c()},m(e,t){mount_component(n,e,t)},p:noop,i(){t||(n.$$.fragment.i(),t=!0)},o(){n&&n.$$.fragment.o(),t=!1},d(e){n.$destroy(e)}}}function func(){return import("./HomeRoute.js")}function func_1(){return import("./RegexRoute.js")}function func_2(){return import("./NamedParamsRoute.js")}class App extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$2,safe_not_equal)}}const app=new App({target:document.body,data:{}});export default app;
//# sourceMappingURL=test.js.map
